{"version":3,"sources":["../webpack/universalModuleDefinition","../webpack/bootstrap","../external \"react\"","lib/components/Editor.js","lib/components/DeepSpeech.js","demo/App.js","demo/serviceWorker.js","demo/index.js","../external \"react-dom\"","deepSpeechModule.js"],"names":["root","factory","exports","module","require","define","amd","a","i","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__47__","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","oldJsonpFunction","slice","Editor","_ref","input","onSubmit","external_react_default","createElement","react_markdown_default","source","className","onClick","DeepSpeech","handleChangeFile","e","_this","setState","file","target","files","console","log","state","handleSubmit","api","_this$props","this","props","theme","width","height","style","Editor_Editor","for","type","id","onChange","accept","Component","App","classCallCheck","possibleConstructorReturn","getPrototypeOf","DeepSpeech_DeepSpeech","Boolean","location","hostname","match","ReactDOM","render","demo_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","process","__webpack_exports__","deepSpeech","Fs","Sox","MemoryStream","Wav","Duplex","audio","complete","MODEL","LM","TRIE","totalTime","hrtimeValue","toPrecision","buffer","readFileSync","decode","sampleRate","error","concat","audioStream","stream","bufferToStream","pipe","global","no-dither","output","bits","rate","channels","encoding","endian","compression","on","audioBuffer","toBuffer","model_load_start","hrtime","model","Model","model_load_end","lm_load_start","enableDecoderWithLM","lm_load_end","inference_start","audioLength","stt","inference_stop"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"react-dom\")) : factory(root[\"react\"], root[\"react-dom\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__47__) {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Bogglian/react-DeepSpeech/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([50,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\n\nconst Editor = ({ input, onSubmit }) => (\n  <div>\n    <div>\n      <ReactMarkdown source={input} />\n      <button className=\"save-btn\" onClick={onSubmit}>\n        Save\n      </button>\n    </div>\n  </div>\n);\n\nexport { Editor };\n","import React, { Component } from 'react';\nimport { Editor } from './Editor';\nimport * as api from '../../deepSpeechModule.js';\n\nclass DeepSpeech extends Component {\n  handleChangeFile = e => {\n    this.setState({\n      file: e.target.files[0],\n    });\n    console.log('file: ' + this.state.file);\n  };\n\n  handleSubmit = () => {\n    var complete = api.deepSpeech(this.state.file);\n    console.log('submit');\n  };\n\n  render() {\n    const { input, width, height, theme } = this.props;\n    return (\n      <div\n        style={\n          ('width: ' + width, 'height: ' + height, 'background-color: ' + theme)\n        }\n      >\n        <Editor input={input} />\n        <form>\n          <div>\n            <label for=\"fileUpload\">UPLOAD</label>\n            <input\n              type=\"file\"\n              name=\"upload\"\n              id=\"fileUpload\"\n              onChange={this.handleChangeFile}\n              accept=\".wav, .raw, .mp3, .mp4, .flex, .m4a\"\n            />\n            <button type=\"submit\" onClick={this.handleSubmit}>\n              Submit\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport { DeepSpeech };\n","import React, { Component } from 'react';\nimport { DeepSpeech } from '../lib';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      input: '',\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <DeepSpeech\n          input={this.state.input}\n          width=\"100%\"\n          height=\"100%\"\n          theme=\"basic\"\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__47__;","// #!/usr/bin/env node\nvar Fs = require('fs');\n\nvar Sox = require('sox-stream'); // const DeepSpeech = require('deepspeech');\n\n\nvar MemoryStream = require('memory-stream');\n\nvar Wav = require('node-wav');\n\nvar Duplex = require('stream').Duplex;\n\nvar util = require('util');\n\nexport function deepSpeech(audio) {\n  var complete = ''; // These constants control the beam search decoder\n  // Beam width used in the CTC decoder when building candidate transcriptions\n\n  var BEAM_WIDTH = 500; // The alpha hyperparameter of the CTC decoder. Language Model weight\n\n  var LM_ALPHA = 0.75; // The beta hyperparameter of the CTC decoder. Word insertion bonus.\n\n  var LM_BETA = 1.85; // These constants are tied to the shape of the graph used (changing them changes\n  // the geometry of the first layer), so make sure you use the same constants that\n  // were used during training\n  // Number of MFCC features to use\n\n  var N_FEATURES = 26; // Size of the context window used for producing timesteps in the input vector\n\n  var N_CONTEXT = 9; // for DeepSpeech Model in src/models\n\n  var MODEL = '../models/output_graph.pb';\n  var ALPHABET = '../models/alphabet.txt';\n  var LM = '../models/lm.binary';\n  var TRIE = '../models/trie';\n  var AUDIO = '../audio/4507-16021-0012.wav';\n\n  function totalTime(hrtimeValue) {\n    return (hrtimeValue[0] + hrtimeValue[1] / 1000000000).toPrecision(4);\n  }\n\n  var buffer = Fs.readFileSync(AUDIO);\n  var result = Wav.decode(buffer);\n\n  if (result.sampleRate < 16000) {\n    console.error(\"Warning: original sample rate (\".concat(result.sampleRate, \") is lower than 16kHz. Up-sampling might produce erratic speech recognition.\"));\n  }\n\n  function bufferToStream(buffer) {\n    var stream = new Duplex();\n    stream.push(buffer);\n    stream.push(null);\n    return stream;\n  }\n\n  var audioStream = new MemoryStream();\n  bufferToStream(buffer).pipe(Sox({\n    global: {\n      'no-dither': true\n    },\n    output: {\n      bits: 16,\n      rate: 16000,\n      channels: 1,\n      encoding: 'signed-integer',\n      endian: 'little',\n      compression: 0.0,\n      type: 'raw'\n    }\n  })).pipe(audioStream);\n  audioStream.on('finish', function () {\n    var audioBuffer = audioStream.toBuffer();\n    console.error('Loading model from file %s', MODEL);\n    var model_load_start = process.hrtime();\n    var model = new DeepSpeech.Model(MODEL, N_FEATURES, N_CONTEXT, ALPHABET, BEAM_WIDTH);\n    var model_load_end = process.hrtime(model_load_start);\n    console.error('Loaded model in %ds.', totalTime(model_load_end));\n\n    if (LM && TRIE) {\n      console.error('Loading language model from files %s %s', LM, TRIE);\n      var lm_load_start = process.hrtime();\n      model.enableDecoderWithLM(ALPHABET, LM, TRIE, LM_ALPHA, LM_BETA);\n      var lm_load_end = process.hrtime(lm_load_start);\n      console.error('Loaded language model in %ds.', totalTime(lm_load_end));\n    }\n\n    var inference_start = process.hrtime();\n    console.error('Running inference.');\n    var audioLength = audioBuffer.length / 2 * (1 / 16000); // We take half of the buffer_size because buffer is a char* while\n    // LocalDsSTT() expected a short*\n\n    complete = model.stt(audioBuffer.slice(0, audioBuffer.length / 2), 16000);\n    console.log(complete);\n    var inference_stop = process.hrtime(inference_start);\n    console.error('Inference took %ds for %ds audio file.', totalTime(inference_stop), audioLength.toPrecision(4));\n  });\n  return complete;\n}"],"sourceRoot":""}